<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../Images/img-DS.png" type="image/x-icon">
    <link rel="shortcut icon" type="image/x-icon" href="Images/img-DS.png" />
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/discount.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="../js/preloader.js"></script>
    <title>Document</title>
</head>

<body>
    <nav>
        <ul>
            <li class="primary-nav">
                <img src="../Images/img-DS.png" alt="logo" />
                <a href="../index.html">APPLE</a>
            </li>
        </ul>
        <ul class="nav-menu">

            <li class="secondary-nav">
                <a href="../HTML/checkout.html">
                    <i class="fas fa-shopping-cart"></i> CART
                </a>
            </li>

            <li class="secondary-nav"><a href="../HTML/women.html">WOMEN</a></li>
            <li class="secondary-nav"><a href="../HTML/men.html">MEN</a></li>

        </ul>

        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>

        </div>
    </nav>

    <section>
        <div style="text-align: center;">
            <h1>Terms and Conditions</h1>
        </div>
        <div>
            <p class="a-t">
                Apple is giving a 70% discount on all products purchased.To qualify for the discount you would be given a referral link.Invite 10 family and friends to shop on Apple with your referral link and you would be able to get the 70% discont on your selected
                item.For instance:-
            </p>
            <ul class="t-li">
                <li>Ade wants to purchase a $300 worth of nike pair</li>
                <li>Ade can't afford that so Ade decides to opt for our 70% discount promo</li>
                <li>Ade generates a <a href="">referral link</a></li>
                <li>Ade convinces 10 family and friends to shop on Apple using his referral link</li>
                <li>Ade is now able to buy the $300 worth of Nike pair for $90</li>
            </ul>
        </div>

        <div>
            <button id="ref-btn">
                Generate referral code
            </button>
            <div id="ref-code">

            </div>
        </div>
    </section>

    <script>
        var hamburger = document.querySelector(".hamburger");
        var navMenu = document.querySelector(".nav-menu");
        var refCode = document.getElementById("ref-code");
        var refBtn = document.getElementById("ref-btn");

        hamburger.addEventListener("click", display);

        function display() {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        }

        document.querySelectorAll(".navlink").forEach((n) =>
            n.addEventListener("click", () => {
                hamburger.classList.remove("active");
                navMenu.classList.remove("active");
            })
        )

        refBtn.addEventListener("click", () => {
            var letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
            var numbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
            var referral = "";
            for (var i = 0; i < 4; i++) {
                var randomNum = Math.floor(Math.random() * 27);
                var randomLetters = letters[randomNum];
                referral += randomLetters
            }
            for (var i = 0; i < 3; i++) {
                var random2 = Math.floor(Math.random() * 10)
                var randomLetters = numbers[random2];
                referral += randomLetters
            }
            refBtn.classList.toggle("disable");
            refBtn.disabled = true;
            refCode.innerHTML = "https://apple.com/" + referral
        })

        refCode.addEventListener("click", myFunction)

        function myFunction() {

            refCode.select();
            refCode.setSelectionRange(0, 99999); // For mobile devices

            navigator.clipboard.writeText(refCode.value);
            alert("hello")

        }
    </script>
</body>

</html>